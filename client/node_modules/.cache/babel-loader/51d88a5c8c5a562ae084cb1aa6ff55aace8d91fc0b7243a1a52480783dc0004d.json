{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{CodeHighlighter}from'./CodeHighlighter';import'./ExamEngine.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ExamEngine=_ref=>{let{userId,examType,onExamComplete}=_ref;const[session,setSession]=useState(null);const[selectedAnswer,setSelectedAnswer]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Format time remaining as MM:SS\nconst formatTime=seconds=>{const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes.toString().padStart(2,'0'),\":\").concat(remainingSeconds.toString().padStart(2,'0'));};// Start a new exam session\nconst startExam=useCallback(async()=>{setLoading(true);setError(null);try{const response=await fetch('/api/exam-sessions',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId,examType,questionCount:10// Smaller number for demo\n})});if(!response.ok){throw new Error('Failed to start exam session');}const data=await response.json();// Get the session details\nawait fetchSessionState(data.sessionId);}catch(err){setError(err instanceof Error?err.message:'Failed to start exam');}finally{setLoading(false);}},[userId,examType]);// Fetch current session state\nconst fetchSessionState=async sessionId=>{try{const response=await fetch(\"/api/exam-sessions/\".concat(sessionId));if(!response.ok){throw new Error('Failed to fetch session state');}const sessionData=await response.json();setSession(sessionData);setSelectedAnswer(null);}catch(err){setError(err instanceof Error?err.message:'Failed to fetch session');}};// Submit an answer\nconst submitAnswer=async()=>{if(!session||selectedAnswer===null)return;setLoading(true);try{var _session$currentQuest;const response=await fetch(\"/api/exam-sessions/\".concat(session.sessionId,\"/answers\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({questionId:(_session$currentQuest=session.currentQuestion)===null||_session$currentQuest===void 0?void 0:_session$currentQuest.id,selectedAnswer})});if(!response.ok){throw new Error('Failed to submit answer');}// Refresh session state\nawait fetchSessionState(session.sessionId);}catch(err){setError(err instanceof Error?err.message:'Failed to submit answer');}finally{setLoading(false);}};// Pause exam\nconst pauseExam=async()=>{if(!session)return;try{const response=await fetch(\"/api/exam-sessions/\".concat(session.sessionId,\"/pause\"),{method:'POST'});if(!response.ok){throw new Error('Failed to pause exam');}await fetchSessionState(session.sessionId);}catch(err){setError(err instanceof Error?err.message:'Failed to pause exam');}};// Resume exam\nconst resumeExam=async()=>{if(!session)return;try{const response=await fetch(\"/api/exam-sessions/\".concat(session.sessionId,\"/resume\"),{method:'POST'});if(!response.ok){throw new Error('Failed to resume exam');}await fetchSessionState(session.sessionId);}catch(err){setError(err instanceof Error?err.message:'Failed to resume exam');}};// Complete exam early\nconst completeExamEarly=async()=>{if(!session)return;try{const response=await fetch(\"/api/exam-sessions/\".concat(session.sessionId,\"/complete\"),{method:'POST'});if(!response.ok){throw new Error('Failed to complete exam');}const result=await response.json();if(onExamComplete){onExamComplete(result.examResult);}await fetchSessionState(session.sessionId);}catch(err){setError(err instanceof Error?err.message:'Failed to complete exam');}};// Update timer every second\nuseEffect(()=>{if(!session||session.isPaused||session.isCompleted)return;const timer=setInterval(async()=>{await fetchSessionState(session.sessionId);},1000);return()=>clearInterval(timer);},[session]);// Auto-complete when time expires\nuseEffect(()=>{if(session&&session.timeRemaining<=0&&!session.isCompleted){// Force complete the exam\nfetch(\"/api/exam-sessions/\".concat(session.sessionId,\"/force-complete\"),{method:'POST'}).then(async response=>{if(response.ok){const result=await response.json();if(onExamComplete){onExamComplete(result.examResult);}await fetchSessionState(session.sessionId);}});}},[session,onExamComplete]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"exam-engine loading\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"exam-engine error\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),children:\"Try Again\"})]});}if(!session){return/*#__PURE__*/_jsxs(\"div\",{className:\"exam-engine start\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Databricks Practice Exam\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",examType]}),/*#__PURE__*/_jsx(\"button\",{onClick:startExam,className:\"start-button\",children:\"Start Exam\"})]});}if(session.isCompleted){return/*#__PURE__*/_jsxs(\"div\",{className:\"exam-engine completed\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Exam Completed!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You have completed the exam.\"}),session.isInReviewMode&&/*#__PURE__*/_jsxs(\"p\",{children:[\"You can review your answers with the remaining time: \",formatTime(session.timeRemaining)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSession(null),className:\"new-exam-button\",children:\"Start New Exam\"})]});}const currentQuestion=session.currentQuestion;return/*#__PURE__*/_jsxs(\"div\",{className:\"exam-engine active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"exam-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"exam-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Question \",session.currentQuestionIndex+1,\" of \",session.totalQuestions]}),/*#__PURE__*/_jsx(\"span\",{className:\"exam-type\",children:session.examType.toUpperCase()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"timer\",children:/*#__PURE__*/_jsx(\"span\",{className:session.timeRemaining<300?'timer-warning':'',children:formatTime(session.timeRemaining)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"exam-controls\",children:[session.isPaused?/*#__PURE__*/_jsx(\"button\",{onClick:resumeExam,className:\"resume-button\",children:\"Resume Exam\"}):/*#__PURE__*/_jsx(\"button\",{onClick:pauseExam,className:\"pause-button\",children:\"Pause Exam\"}),/*#__PURE__*/_jsx(\"button\",{onClick:completeExamEarly,className:\"complete-button\",children:\"Complete Early\"})]}),session.isPaused?/*#__PURE__*/_jsxs(\"div\",{className:\"paused-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Exam Paused\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click \\\"Resume Exam\\\" to continue. Timer continues running during pause.\"})]}):currentQuestion?/*#__PURE__*/_jsxs(\"div\",{className:\"question-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"topic\",children:currentQuestion.topic}),/*#__PURE__*/_jsx(\"span\",{className:\"difficulty\",children:currentQuestion.difficulty})]}),/*#__PURE__*/_jsx(\"div\",{className:\"question-text\",children:/*#__PURE__*/_jsx(\"h3\",{children:currentQuestion.questionText})}),currentQuestion.codeExample&&/*#__PURE__*/_jsx(\"div\",{className:\"code-example\",children:/*#__PURE__*/_jsx(CodeHighlighter,{code:currentQuestion.codeExample,language:\"python\",showLineNumbers:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"options\",children:currentQuestion.options.map((option,index)=>/*#__PURE__*/_jsxs(\"label\",{className:\"option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"answer\",value:index,checked:selectedAnswer===index,onChange:()=>setSelectedAnswer(index)}),/*#__PURE__*/_jsx(\"span\",{className:\"option-text\",children:option})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"question-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:submitAnswer,disabled:selectedAnswer===null||loading,className:\"submit-button\",children:session.currentQuestionIndex===session.totalQuestions-1?'Finish Exam':'Next Question'})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-question\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No question available\"})})]});};","map":{"version":3,"names":["React","useState","useEffect","useCallback","CodeHighlighter","jsx","_jsx","jsxs","_jsxs","ExamEngine","_ref","userId","examType","onExamComplete","session","setSession","selectedAnswer","setSelectedAnswer","loading","setLoading","error","setError","formatTime","seconds","minutes","Math","floor","remainingSeconds","concat","toString","padStart","startExam","response","fetch","method","headers","body","JSON","stringify","questionCount","ok","Error","data","json","fetchSessionState","sessionId","err","message","sessionData","submitAnswer","_session$currentQuest","questionId","currentQuestion","id","pauseExam","resumeExam","completeExamEarly","result","examResult","isPaused","isCompleted","timer","setInterval","clearInterval","timeRemaining","then","className","children","onClick","isInReviewMode","currentQuestionIndex","totalQuestions","toUpperCase","topic","difficulty","questionText","codeExample","code","language","showLineNumbers","options","map","option","index","type","name","value","checked","onChange","disabled"],"sources":["/Users/rob.koch/Library/CloudStorage/OneDrive-Slalom/git/databricks-practice-exam/client/src/components/ExamEngine.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { CodeHighlighter } from './CodeHighlighter';\nimport './ExamEngine.css';\n\ninterface Question {\n  id: string;\n  topic: string;\n  subtopic: string;\n  difficulty: string;\n  questionText: string;\n  codeExample?: string;\n  options: string[];\n  tags: string[];\n}\n\ninterface ExamSession {\n  sessionId: string;\n  examType: string;\n  currentQuestionIndex: number;\n  totalQuestions: number;\n  timeRemaining: number;\n  isCompleted: boolean;\n  isPaused: boolean;\n  isInReviewMode: boolean;\n  currentQuestion: Question | null;\n  responses: number;\n}\n\ninterface ExamEngineProps {\n  userId: string;\n  examType: 'practice' | 'assessment';\n  onExamComplete?: (result: any) => void;\n}\n\nexport const ExamEngine: React.FC<ExamEngineProps> = ({ \n  userId, \n  examType, \n  onExamComplete \n}) => {\n  const [session, setSession] = useState<ExamSession | null>(null);\n  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Format time remaining as MM:SS\n  const formatTime = (seconds: number): string => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  // Start a new exam session\n  const startExam = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch('/api/exam-sessions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          userId,\n          examType,\n          questionCount: 10 // Smaller number for demo\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to start exam session');\n      }\n\n      const data = await response.json();\n      \n      // Get the session details\n      await fetchSessionState(data.sessionId);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to start exam');\n    } finally {\n      setLoading(false);\n    }\n  }, [userId, examType]);\n\n  // Fetch current session state\n  const fetchSessionState = async (sessionId: string) => {\n    try {\n      const response = await fetch(`/api/exam-sessions/${sessionId}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch session state');\n      }\n      \n      const sessionData = await response.json();\n      setSession(sessionData);\n      setSelectedAnswer(null);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch session');\n    }\n  };\n\n  // Submit an answer\n  const submitAnswer = async () => {\n    if (!session || selectedAnswer === null) return;\n\n    setLoading(true);\n    try {\n      const response = await fetch(`/api/exam-sessions/${session.sessionId}/answers`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          questionId: session.currentQuestion?.id,\n          selectedAnswer,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to submit answer');\n      }\n\n      // Refresh session state\n      await fetchSessionState(session.sessionId);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to submit answer');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Pause exam\n  const pauseExam = async () => {\n    if (!session) return;\n\n    try {\n      const response = await fetch(`/api/exam-sessions/${session.sessionId}/pause`, {\n        method: 'POST',\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to pause exam');\n      }\n\n      await fetchSessionState(session.sessionId);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to pause exam');\n    }\n  };\n\n  // Resume exam\n  const resumeExam = async () => {\n    if (!session) return;\n\n    try {\n      const response = await fetch(`/api/exam-sessions/${session.sessionId}/resume`, {\n        method: 'POST',\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to resume exam');\n      }\n\n      await fetchSessionState(session.sessionId);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to resume exam');\n    }\n  };\n\n  // Complete exam early\n  const completeExamEarly = async () => {\n    if (!session) return;\n\n    try {\n      const response = await fetch(`/api/exam-sessions/${session.sessionId}/complete`, {\n        method: 'POST',\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to complete exam');\n      }\n\n      const result = await response.json();\n      if (onExamComplete) {\n        onExamComplete(result.examResult);\n      }\n      \n      await fetchSessionState(session.sessionId);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to complete exam');\n    }\n  };\n\n  // Update timer every second\n  useEffect(() => {\n    if (!session || session.isPaused || session.isCompleted) return;\n\n    const timer = setInterval(async () => {\n      await fetchSessionState(session.sessionId);\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [session]);\n\n  // Auto-complete when time expires\n  useEffect(() => {\n    if (session && session.timeRemaining <= 0 && !session.isCompleted) {\n      // Force complete the exam\n      fetch(`/api/exam-sessions/${session.sessionId}/force-complete`, {\n        method: 'POST',\n      }).then(async (response) => {\n        if (response.ok) {\n          const result = await response.json();\n          if (onExamComplete) {\n            onExamComplete(result.examResult);\n          }\n          await fetchSessionState(session.sessionId);\n        }\n      });\n    }\n  }, [session, onExamComplete]);\n\n  if (loading) {\n    return <div className=\"exam-engine loading\">Loading...</div>;\n  }\n\n  if (error) {\n    return (\n      <div className=\"exam-engine error\">\n        <p>Error: {error}</p>\n        <button onClick={() => setError(null)}>Try Again</button>\n      </div>\n    );\n  }\n\n  if (!session) {\n    return (\n      <div className=\"exam-engine start\">\n        <h2>Databricks Practice Exam</h2>\n        <p>Type: {examType}</p>\n        <button onClick={startExam} className=\"start-button\">\n          Start Exam\n        </button>\n      </div>\n    );\n  }\n\n  if (session.isCompleted) {\n    return (\n      <div className=\"exam-engine completed\">\n        <h2>Exam Completed!</h2>\n        <p>You have completed the exam.</p>\n        {session.isInReviewMode && (\n          <p>You can review your answers with the remaining time: {formatTime(session.timeRemaining)}</p>\n        )}\n        <button onClick={() => setSession(null)} className=\"new-exam-button\">\n          Start New Exam\n        </button>\n      </div>\n    );\n  }\n\n  const currentQuestion = session.currentQuestion;\n\n  return (\n    <div className=\"exam-engine active\">\n      <div className=\"exam-header\">\n        <div className=\"exam-info\">\n          <span>Question {session.currentQuestionIndex + 1} of {session.totalQuestions}</span>\n          <span className=\"exam-type\">{session.examType.toUpperCase()}</span>\n        </div>\n        <div className=\"timer\">\n          <span className={session.timeRemaining < 300 ? 'timer-warning' : ''}>\n            {formatTime(session.timeRemaining)}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"exam-controls\">\n        {session.isPaused ? (\n          <button onClick={resumeExam} className=\"resume-button\">\n            Resume Exam\n          </button>\n        ) : (\n          <button onClick={pauseExam} className=\"pause-button\">\n            Pause Exam\n          </button>\n        )}\n        <button onClick={completeExamEarly} className=\"complete-button\">\n          Complete Early\n        </button>\n      </div>\n\n      {session.isPaused ? (\n        <div className=\"paused-message\">\n          <h3>Exam Paused</h3>\n          <p>Click \"Resume Exam\" to continue. Timer continues running during pause.</p>\n        </div>\n      ) : currentQuestion ? (\n        <div className=\"question-container\">\n          <div className=\"question-header\">\n            <span className=\"topic\">{currentQuestion.topic}</span>\n            <span className=\"difficulty\">{currentQuestion.difficulty}</span>\n          </div>\n\n          <div className=\"question-text\">\n            <h3>{currentQuestion.questionText}</h3>\n          </div>\n\n          {currentQuestion.codeExample && (\n            <div className=\"code-example\">\n              <CodeHighlighter\n                code={currentQuestion.codeExample}\n                language=\"python\"\n                showLineNumbers={true}\n              />\n            </div>\n          )}\n\n          <div className=\"options\">\n            {currentQuestion.options.map((option, index) => (\n              <label key={index} className=\"option\">\n                <input\n                  type=\"radio\"\n                  name=\"answer\"\n                  value={index}\n                  checked={selectedAnswer === index}\n                  onChange={() => setSelectedAnswer(index)}\n                />\n                <span className=\"option-text\">{option}</span>\n              </label>\n            ))}\n          </div>\n\n          <div className=\"question-actions\">\n            <button\n              onClick={submitAnswer}\n              disabled={selectedAnswer === null || loading}\n              className=\"submit-button\"\n            >\n              {session.currentQuestionIndex === session.totalQuestions - 1 ? 'Finish Exam' : 'Next Question'}\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"no-question\">\n          <p>No question available</p>\n        </div>\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}