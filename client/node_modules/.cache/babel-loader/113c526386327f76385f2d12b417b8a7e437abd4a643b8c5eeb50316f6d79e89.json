{"ast":null,"code":"import React,{useState}from'react';import'./FeedbackSubmission.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const FeedbackSubmission=_ref=>{let{questionId,userId,onSubmit,onClose}=_ref;const[feedbackType,setFeedbackType]=useState('unclear');const[message,setMessage]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();if(message.trim().length<10){setError('Please provide at least 10 characters of feedback.');return;}setLoading(true);setError(null);try{const response=await fetch('/api/feedback',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({questionId,userId,feedbackType,message:message.trim()})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Failed to submit feedback');}// Success\nif(onSubmit){onSubmit(true);}// Reset form\nsetMessage('');setFeedbackType('unclear');}catch(err){setError(err instanceof Error?err.message:'Failed to submit feedback');if(onSubmit){onSubmit(false);}}finally{setLoading(false);}};const feedbackTypeOptions=[{value:'incorrect',label:'Incorrect Answer',description:'The provided answer or explanation is wrong'},{value:'unclear',label:'Unclear Question',description:'The question is confusing or poorly worded'},{value:'outdated',label:'Outdated Information',description:'The content references outdated features or practices'},{value:'suggestion',label:'Suggestion',description:'General improvement suggestions'}];return/*#__PURE__*/_jsx(\"div\",{className:\"feedback-submission\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Submit Question Feedback\"}),onClose&&/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"close-button\",\"aria-label\":\"Close\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"feedback-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"feedbackType\",children:\"Feedback Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"feedback-type-options\",children:feedbackTypeOptions.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"radio-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"feedbackType\",value:option.value,checked:feedbackType===option.value,onChange:e=>setFeedbackType(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"radio-label\",children:option.label}),/*#__PURE__*/_jsx(\"span\",{className:\"radio-description\",children:option.description})]})]},option.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"message\",children:[\"Your Feedback\",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Please provide detailed feedback about this question...\",rows:5,maxLength:1000,required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"character-count\",children:[message.length,\"/1000 characters\",message.length<10&&/*#__PURE__*/_jsx(\"span\",{className:\"min-length-warning\",children:\" (minimum 10 characters)\"})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[onClose&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"cancel-button\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading||message.trim().length<10,children:loading?'Submitting...':'Submit Feedback'})]})]})]})});};","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","FeedbackSubmission","_ref","questionId","userId","onSubmit","onClose","feedbackType","setFeedbackType","message","setMessage","loading","setLoading","error","setError","handleSubmit","e","preventDefault","trim","length","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","err","feedbackTypeOptions","value","label","description","className","children","onClick","htmlFor","map","option","type","name","checked","onChange","target","id","placeholder","rows","maxLength","required","disabled"],"sources":["/Users/rob.koch/Library/CloudStorage/OneDrive-Slalom/git/databricks-practice-exam/client/src/components/FeedbackSubmission.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './FeedbackSubmission.css';\n\ninterface FeedbackSubmissionProps {\n  questionId: string;\n  userId: string;\n  onSubmit?: (success: boolean) => void;\n  onClose?: () => void;\n}\n\ntype FeedbackType = 'incorrect' | 'unclear' | 'outdated' | 'suggestion';\n\nexport const FeedbackSubmission: React.FC<FeedbackSubmissionProps> = ({\n  questionId,\n  userId,\n  onSubmit,\n  onClose\n}) => {\n  const [feedbackType, setFeedbackType] = useState<FeedbackType>('unclear');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (message.trim().length < 10) {\n      setError('Please provide at least 10 characters of feedback.');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/feedback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          questionId,\n          userId,\n          feedbackType,\n          message: message.trim()\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to submit feedback');\n      }\n\n      // Success\n      if (onSubmit) {\n        onSubmit(true);\n      }\n      \n      // Reset form\n      setMessage('');\n      setFeedbackType('unclear');\n      \n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to submit feedback');\n      if (onSubmit) {\n        onSubmit(false);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const feedbackTypeOptions = [\n    { value: 'incorrect', label: 'Incorrect Answer', description: 'The provided answer or explanation is wrong' },\n    { value: 'unclear', label: 'Unclear Question', description: 'The question is confusing or poorly worded' },\n    { value: 'outdated', label: 'Outdated Information', description: 'The content references outdated features or practices' },\n    { value: 'suggestion', label: 'Suggestion', description: 'General improvement suggestions' }\n  ];\n\n  return (\n    <div className=\"feedback-submission\">\n      <div className=\"feedback-modal\">\n        <div className=\"modal-header\">\n          <h3>Submit Question Feedback</h3>\n          {onClose && (\n            <button onClick={onClose} className=\"close-button\" aria-label=\"Close\">\n              Ã—\n            </button>\n          )}\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"feedback-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"feedbackType\">Feedback Type</label>\n            <div className=\"feedback-type-options\">\n              {feedbackTypeOptions.map((option) => (\n                <label key={option.value} className=\"radio-option\">\n                  <input\n                    type=\"radio\"\n                    name=\"feedbackType\"\n                    value={option.value}\n                    checked={feedbackType === option.value}\n                    onChange={(e) => setFeedbackType(e.target.value as FeedbackType)}\n                  />\n                  <div className=\"radio-content\">\n                    <span className=\"radio-label\">{option.label}</span>\n                    <span className=\"radio-description\">{option.description}</span>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"message\">\n              Your Feedback\n              <span className=\"required\">*</span>\n            </label>\n            <textarea\n              id=\"message\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Please provide detailed feedback about this question...\"\n              rows={5}\n              maxLength={1000}\n              required\n            />\n            <div className=\"character-count\">\n              {message.length}/1000 characters\n              {message.length < 10 && (\n                <span className=\"min-length-warning\"> (minimum 10 characters)</span>\n              )}\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"form-actions\">\n            {onClose && (\n              <button type=\"button\" onClick={onClose} className=\"cancel-button\">\n                Cancel\n              </button>\n            )}\n            <button \n              type=\"submit\" \n              className=\"submit-button\"\n              disabled={loading || message.trim().length < 10}\n            >\n              {loading ? 'Submitting...' : 'Submit Feedback'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}